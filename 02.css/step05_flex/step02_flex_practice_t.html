<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>step02_flex_prac.html</title>
    <style>
    .main {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        display: flex;
        /* 사이드바와 본문은 나란히 배치되어야 하므로 wrap을 하지 않습니다. */
        flex-wrap: nowrap; 
        gap: 1em;
    }
    aside {
        /* 사이드바 너비를 고정하고, 공간이 부족해도 줄어들지 않게 합니다. */
        flex-basis: 160px; 
        flex-grow: 0;      
        flex-shrink: 0;    
        background-color: #f0f0ff;
    }
    article {
        /* 본문 영역은 남은 공간을 모두 차지합니다. */
        flex-basis: 680px;
        flex-grow: 1;      
        flex-shrink: 1;    
        background-color: #ffe0e0;
    }
    .container {
        display: flex;
        /* 자식 요소들이 너비가 부족하면 다음 줄로 넘어가게 합니다. */
        flex-wrap: wrap; 
        gap: 1em;
        padding: 10px;
        background-color: #f0f0f0;
    }
    .item {
        min-height: 150px;
        /* 3개에서 2개, 1개로 줄어들게 만드는 핵심 수치입니다. 
           약 30% 정도의 기본 크기를 주면 한 줄에 3개까지 들어갑니다. */
        flex-basis: 150px; 
        flex-shrink: 1;   
        flex-grow: 1;      
    }
    /* ... 나머지 배경색 스타일 ... */
        .item1 { background: tomato; }
        .item2 { background: gold; }
        .item3 { background: greenyellow; }
        .item4 { background: dodgerblue; }
    </style>
</head>
<body>
    <div class="main">
        <aside>
            Sidebar
        </aside>
        <article>
            <h1>Title</h1>
            <div class="container">
                <div class="item item1">content1</div>
                <div class="item item2">content2</div>
                <div class="item item3">content3</div>
                <div class="item item4">content4</div>
            </div>
        </article>
    
    </div>
</body>
</html>